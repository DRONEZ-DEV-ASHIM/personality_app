<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Result</title>
</head>
<body>

<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 760px;
    margin: 40px auto;
    background:#0f172a;
    color:#e2e8f0;
  }
  .result-box {
    background:#1e293b;
    padding:20px;
    border-radius:10px;
    border:1px solid #334155;
  }
  .trait {
    background:#334155;
    padding:6px 10px;
    border-radius:20px;
    display:inline-block;
    margin-right:6px;
    margin-top:6px;
  }
  .sentiment-bar {
    width:100%;height:12px;border-radius:999px;
    background:linear-gradient(90deg,#ef4444,#facc15,#22c55e);
    margin-top:10px;
    position:relative;
  }
  .dot {
    width:16px;height:16px;border-radius:50%;
    background:white;position:absolute;top:50%;
    transform:translate(-50%,-50%);
  }
  .btn {
    background:#3b82f6;color:white;border:none;
    padding:10px 14px;border-radius:6px;
    cursor:pointer;margin-top:20px;
  }
</style>


<div class="result-box">
  <h2>Analysis Result</h2>

  <p><strong>Input:</strong> {{ text }}</p>

  <p><strong>Personality Traits:</strong></p>
  {% for t in traits %}
    <span class="trait">{{ t }}</span>
  {% endfor %}

  <p style="margin-top:15px;"><strong>Sentiment:</strong> {{ label }} (Score: {{ score }})</p>

  <div class="sentiment-bar">
    <div class="dot" id="dot"></div>
  </div>

  <button class="btn" onclick="window.location='/'">Analyze Again</button>
</div>


<script>
  const score = {{ score }};
  const dot = document.getElementById("dot");
  // sentiment scale → -6 to +6 mapped to 0–100%
  let left = ((score + 6) / 12) * 100;
  if (left < 5) left = 5;
  if (left > 95) left = 95;
  dot.style.left = left + "%";
</script>

</body>
</html>
